<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/icon_white_rat.png" type="image/x-icon">
    <link rel="shortcut icon" href="/images/icon_white_rat.png" type="image/x-icon">

    <link href="./css/HomePage.css" rel="stylesheet">
    <link href="./css/Login.css" rel="stylesheet">
    <link href="./css/UserInfo.css" rel="stylesheet">
    <link href="./css/Loading.css" rel="stylesheet">
    <link href="./css/Game.css" rel="stylesheet">
    <link href="./css/Stretch.css" rel="stylesheet">
    <link href="./css/GamePage.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- 先借icon來用等確定後再改 -->
    <script src="./dist/main.js" defer></script>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
    <title>I Want Bonk You</title>
</head>
<body>
    
    <div class="navbar">
        <a href="#Home_Page" class="nav-item" ><img src="./images/icon_white_rat.png" alt="HomeBtn" style="width: 30px;height: auto;"></a>
        <a href="#Game_Page" class="nav-item">Start Game</a>
        <a id="Login-btn" class="nav-item">Login/SignUp</a>
        <a id="Logout-btn" style="display:none;cursor: pointer;" class="nav-item">Log out</a>
        <div id ="Wallet_set">
            <a id="connect_wallet" class="nav-item wallet-btn">connect wallet</a>
            <div id="Wallet_Contrel" class="list-container">
                <ul>
                    <li id="Copy_Address" style="cursor: pointer;">Copy address</li>
                    <li id="Disconnect" style="cursor: pointer;">Disconnect</li>
                </ul>
            </div>
        </div>
    </div>
    <div id="Font_Page" class="Font_Page">    
        <section id="Home_Page" class="Home_page content Guide_To_User_Info">
            <h3>Get Bonk or Bonk someone on head</h3>
            
        </section>
        <!--
        <section id="User_Info" class="User_Info content">
            
        </section>
        !-->
        
        <section id="Game_Page" class="content">
            <!--
            <label id="MSG_Connect">Before Play The Game<br>Please Connect Wallet</label>
            !-->
            <div id='game_ui' class="game-ui">
                <!-- 餘額區域 -->
                <div class="balance-container">
                    <div class="balance-item">
                        <img src="your-sol-icon.png" alt="SOL Icon" class="balance-icon">
                        <span id="sol-balance">2.345 SOL</span>
                    </div>
                    <div class="balance-item">
                        <img src="your-bonk-icon.png" alt="BONK Icon" class="balance-icon">
                        <span id="bonk-balance">1000 BONK</span>
                    </div>
                </div>
                <!-- 遊戲圖標 -->
                <div class="game-header">
                    <img src="./images/icon.png" alt="Hammer Icon" class="game-icon">
                </div>
        
                <!-- 功能按鈕區域 -->
                <div class="top-actions">
                    <button id="user-info-button" class="info-btn">User Info</button>
                    <button id="friends-button" class="friends-btn">Friends</button>
                    <button id="leaderboard-button" class="leaderboard-btn">Leaderboard</button>
                    <button id="deposit-button" class="leaderboard-btn">Deposit</button>
                </div>
            
               
                <!-- 遊戲功能按鈕 -->
                <div class="game-actions">
                    <button id='Bonk-button' class="action-button bonk-btn">BONK!</button>
                    <button id='stretch-button'class="action-button stretch-btn">Stretch!</button>
                </div>
            
                <!-- How to Play 按鈕 -->
                <button id="how-to-play-button" class="help-btn">?</button>
                <!-- 遮罩 -->
                <div id="wallet-overlay" class="wallet-overlay">
                    <div class="overlay-content">
                        <p>Please connect your wallet to start playing!</p>
                        <button id="connect-wallet-button" class="connect-wallet-btn">Connect Wallet</button>
                    </div>
                </div>
            </div>
            
             <div id='profile' class="user-profile-container">
                <h3>UserInfo</h3>
                <!-- 動態加載部分 -->
                <div id="dynamic-user-info">
                    <!-- Avatar -->
                    <div class="user-avatar">
                        <img id="user-avatar-image" src="https://via.placeholder.com/150" alt="User Avatar">
                        <input type="file" id="avatar-upload-input" accept="image/*" style="display: none;">
                    </div>
                    
                    <!-- Nickname -->
                    <div class="user-detail-item" style="display: flex;">
                        <label for="user-nickname" style="margin-right: 15px; display: inline;">Name:</label>
                        <span id="user-nickname"></span>
                    </div>
        
                    <!-- Bio -->
                    <div class="user-detail-item">
                        <label for="user-bio">Bio:</label>
                        <p id="user-bio-display">This is your bio. Click "Edit" to modify it.</p>
                        <textarea id="user-bio-edit" placeholder="Write something about yourself..." style="display: none;"></textarea>
                        <button id="edit-bio-button">Edit</button>
                        <button id="save-bio-button" style="display: none;">Save</button>
                    </div>
                </div>
                <button id="add-detail-button">Other function</button>
                <button id="user-back-button" class="back-button">Back to Game</button>
            </div>


            <!-- Stretch UI -->
            <div id="stretch_ui" style="display: none;">
                <div class="stretch-container">
                    <!-- 角色區域 -->
                    <div class="character">
                        <div class="head"></div>
                        <div class="neck"></div>
                    </div>
            
                    <!-- 設定與數據區域 -->
                    <div class="settings">
                        <label for="bet-amount">Bet Amount (BONK):</label>
                        <input type="number" id="bet-amount" min="1" placeholder="Enter your bet" />
            
                        <p id="duration-display">Stretch Duration: 0 seconds</p>
                        <p id="profit-display">Current Profit: 0 BONK</p>
                    </div>
            
                    <!-- 控制按鈕 -->
                    <button id="start-stretch-button" class="stretch-button">Start Stretching</button>
                    <button id="stop-stretch-button" class="stretch-button" style="display: none;">Stop Stretching</button>
                    <button id="back-button" class="back-button">Back to Game</button>
                </div>
                
            </div>

            <div id="bonk_ui" style="display: none;">
                <div class="stretch-container BonkPerparPage">
                    <div id="bonk_page" >
                        loading
                    </div>
                    <button id="back-button1" class="back-button">Back to Game</button>
                    <button id="Bonk" class="stretch-button" disabled>Bonk</button>
                    <input id="Target" type="hidden" value="-1">
                </div>
            </div>
            
            
        </section>
    </div>
    
    <!-- 登入登出彈窗 -->
    <div id="LoginSignUp-popup" class="LoginSignUp-popup">
        <div class="LoginSignUp-popup-content">
            <span class="close">&times;</span>
            <div id="form-container">
                <!-- SignUp 表單 -->
                <form id="signupForm" class="form-style" action="http://localhost:3000/api/users/signup" method="POST">
                    <h2>Sign Up</h2>
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="user_name" required oninvalid="this.setCustomValidity('Please enter your username')">
                    
                    <label for="nickname">Name:</label>
                    <input type="text" id="nickname" name="nick_name" required oninvalid="this.setCustomValidity('Please enter your nickname')">
                    
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required oninvalid="this.setCustomValidity('Please enter your password')">
                    <label for="Confirm onpassword">Confirm Password:</label>
                    <input type="password" id="confirmpassword" name="confirmpassword" oninvalid="this.setCustomValidity('Please confirm your password')">
                    
                    <button type="submit">Sign Up</button>
                    <p>Already have an account? <a href="#" id="show-login">Login</a></p>
                </form>
    
                <!-- Login 表單 -->
                <form id="loginForm" class="form-style" action="http://localhost:3000/api/users/login" method="POST" style="display: none;">
                    <h2>Login</h2>
                    <label for="username-login">Username:</label>
                    <input type="text" id="usernameLogin" name="user_name" required oninvalid="this.setCustomValidity('Please enter your password')">
                    
                    <label for="password-login">Password:</label>
                    <input type="password" id="passwordLogin" name="password" required oninvalid="this.setCustomValidity('Please enter your password')">
                    
                    <button type="submit" id="LoginSubmit">Login</button>
                    <p>Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
                </form>
            </div>
        </div>

    </div>
    <div id="loading-spinner" style="display: none;">
        <div class="spinner"></div>
    </div>
    

</body>     